!function(){"use strict";function e(e){e.initialize()}angular.module("statnlpApp",["ngResource","ngAria","ui.router","oc.lazyLoad"]).run(e),e.$inject=["stateHandler"]}(),function(){"use strict";function e(e,t){var n=t.getEndpoint();return e("",{},{getAll:{method:"GET",isArray:!0,url:n+"/data/regions.json"}})}angular.module("statnlpApp").factory("RegionService",e),e.$inject=["$resource","DataService"]}(),function(){"use strict";function e(e,t){var n=t.getEndpoint();return e("",{},{getAll:{method:"GET",isArray:!0,url:n+"/data/images.json"}})}angular.module("statnlpApp").factory("ImageService",e),e.$inject=["$resource","DataService"]}(),function(){"use strict";function e(e){function t(){return n}var n="",a={getEndpoint:t};return a}angular.module("statnlpApp").factory("DataService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t){var n=t.getEndpoint();return e("",{},{getAll:{method:"GET",isArray:!0,url:n+"/data/annotations.json"}})}angular.module("statnlpApp").factory("AnnotationService",e),e.$inject=["$resource","DataService"]}(),function(){"use strict";function e(e,t,n,a){function i(){function e(e){o.image=e[0]}a.getAll({},e,l)}function l(e){console.log(e)}function r(e){$(".rightsidebar li").removeClass("active");var t=angular.element(e.currentTarget);t.addClass("active")}var o=this;o.image={image_id:null,image_rl:null,objects:[]},o.clickItem=r,i()}angular.module("statnlpApp").controller("SidenavRightController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService"]}(),function(){"use strict";function e(e,t,n,a){}angular.module("statnlpApp").controller("SidenavController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService"]}(),function(){"use strict";function e(e,t){}angular.module("statnlpApp").controller("PageloadController",e),e.$inject=["$scope","$state"]}(),function(){"use strict";function e(e,t,n,a){function i(){function e(e){o.images=e}a.getAll({},e,l)}function l(e){console.log(e)}function r(e){$(".m-menu-item").removeClass("m-item-active");var t=angular.element(e.currentTarget);t.addClass("m-item-active")}n.load("js/admin.js");var o=this;o.images=[],o.imageClick=r,i()}angular.module("statnlpApp").controller("NavbarController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService"]}(),function(){"use strict";function e(e){e.state("home",{parent:"app",url:"/",data:{authorities:[]},views:{"content@":{templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm"}}})}angular.module("statnlpApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,i,l){function r(){function e(e){v.images=e,v.image=e[0]}a.getAll({},e,p)}function o(){}function s(){function e(e){v.annotations=e[0].relationships,c(v.region)}l.getAll({},e,p)}function c(e){var t=u(e.region_id);null!==t&&d(e,t)}function d(e,t){e.predicate=t.predicate;for(var n in t)"predicate"!==n&&(e.annotation[n]=t[n]);$("#img-region").elevateZoom({zoomType:"lens",lensShape:"round",lensSize:160,scrollZoom:!0})}function u(e){for(var t=0;t<v.annotations.length;t++){var n=v.annotations[t];if(n.region_id===e)return n.region_relations}return null}function p(e){console.log(e)}n.load("plugins/dropzone/dropzone.js").then(function(){n.load("js/pages/forms/advanced-form-elements.js")}),n.load("js/pages/medias/image-gallery.js");var v=this;v.region={height:57,image_id:1,phrase:"man has raised his arm",region_id:1736,width:67,x:372,y:274,predicate:"",annotation:{}},v.annotations=[],v.image={image_id:null,image_rl:null,objects:[]},r(),s(),o()}angular.module("statnlpApp").controller("HomeController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService","RegionService","AnnotationService"]}(),function(){"use strict";function e(){function e(e,t){if(isNaN(t))return e;if(t<=0)return"";if(e){var n=e.split(/\s+/);n.length>t&&(e=n.slice(0,t).join(" ")+"...")}return e}return e}angular.module("statnlpApp").filter("words",e)}(),function(){"use strict";function e(){function e(e,t,n){if(isNaN(t))return e;if(t<=0)return"";if(e&&e.length>t){if(e=e.substring(0,t),n)for(;" "===e.charAt(e.length-1);)e=e.substr(0,e.length-1);else{var a=e.lastIndexOf(" ");a!==-1&&(e=e.substr(0,a))}return e+"..."}return e}return e}angular.module("statnlpApp").filter("characters",e)}(),function(){"use strict";function e(){function e(e,t,n,a){t.bind("click",function(){a.sort(n.jhSortBy)})}var t={restrict:"A",scope:!1,require:"^jhSort",link:e};return t}angular.module("statnlpApp").directive("jhSortBy",e)}(),function(){"use strict";function e(){var e={restrict:"A",scope:{predicate:"=jhSort",ascending:"=",callback:"&"},controller:t,controllerAs:"vm",bindToController:!0};return e}function t(e,t){function n(e){var t=e.find("span.glyphicon"),n="glyphicon-sort",a="glyphicon-sort-by-attributes",i="glyphicon-sort-by-attributes-alt",l=n+" "+i,o=a;r.ascending||(l=n+" "+a,o=i),r.resetClasses(),t.removeClass(l),t.addClass(o)}function a(){var e=t.find("span.glyphicon"),n="glyphicon-sort",a="glyphicon-sort-by-attributes",i="glyphicon-sort-by-attributes-alt";e.removeClass(a+" "+i),e.addClass(n)}function i(t){t!==r.predicate?r.ascending=!0:r.ascending=!r.ascending,r.predicate=t,e.$apply(),r.callback()}function l(e){r.resetClasses(),e&&"_score"!==e[0]&&r.applyClass(t.find("th[jh-sort-by='"+e[0]+"']"))}var r=this;r.applyClass=n,r.resetClasses=a,r.sort=i,r.triggerApply=l,e.$watchGroup(["vm.predicate","vm.ascending"],r.triggerApply),r.triggerApply()}angular.module("statnlpApp").directive("jhSort",e),t.$inject=["$scope","$element"]}(),function(){"use strict";function e(){function e(e){if(0===e.length)throw new Error("input must not be of zero length");var t=e.split(","),n={};return angular.forEach(t,function(e){var t=e.split(">;");if(2!==t.length)throw new Error('section could not be split on ">;"');var a=t[0].replace(/<(.*)/,"$1").trim(),i={};a.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,a){i[t]=a});var l=i.page;angular.isString(l)&&(l=parseInt(l));var r=t[1].replace(/rel="(.*)"/,"$1").trim();n[r]=l}),n}var t={parse:e};return t}angular.module("statnlpApp").factory("ParseLinks",e)}(),function(){"use strict";angular.module("statnlpApp").constant("errorConstants",function(){var e="http://www.jhipster.tech/problem";return{EMAIL_ALREADY_USED_TYPE:e+"/email-already-used",LOGIN_ALREADY_USED_TYPE:e+"/login-already-used",EMAIL_NOT_FOUND_TYPE:e+"/email-not-found"}}())}(),function(){"use strict";function e(e){function t(e){return e?new Date(e):null}function n(e){if(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}return null}function a(t){return t?e("date")(t,"yyyy-MM-dd"):null}function i(){return"yyyy-MM-dd"}var l={convertDateTimeFromServer:t,convertLocalDateFromServer:n,convertLocalDateToServer:a,dateformat:i};return l}angular.module("statnlpApp").factory("DateUtils",e),e.$inject=["$filter"]}(),function(){"use strict";function e(e){function t(e){return angular.isString(e)?e.length<30?e:e?e.substring(0,15)+"..."+e.slice(-10):"":""}function n(e){function t(e,t){return t.indexOf(e,t.length-e.length)!==-1}function n(e){return t("==",e)?2:t("=",e)?1:0}function a(e){return e.length/4*3-n(e)}function i(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" bytes"}return angular.isString(e)?i(a(e)):""}function a(t,n){e.open("data:"+t+";base64,"+n,"_blank","height=300,width=400")}function i(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){var n=e.target.result.substr(e.target.result.indexOf("base64,")+"base64,".length);t(n)}}var l={abbreviate:t,byteSize:n,openFile:a,toBase64:i};return l}angular.module("statnlpApp").factory("DataUtils",e),e.$inject=["$window"]}(),function(){"use strict";function e(){function e(e){return null!==e&&(e=e.toLowerCase(),e=e.substring(0,1).toUpperCase()+e.substring(1)),e}return e}angular.module("statnlpApp").filter("capitalize",e)}(),function(){"use strict";function e(){function e(e){for(var t,a,i,l,r,o,s,c="",d=0;d<e.length;)t=e.charCodeAt(d++),a=e.charCodeAt(d++),i=e.charCodeAt(d++),l=t>>2,r=(3&t)<<4|a>>4,o=(15&a)<<2|i>>6,s=63&i,isNaN(a)?o=s=64:isNaN(i)&&(s=64),c=c+n.charAt(l)+n.charAt(r)+n.charAt(o)+n.charAt(s);return c}function t(e){var t,a,i,l,r,o,s,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)l=n.indexOf(e.charAt(d++)),r=n.indexOf(e.charAt(d++)),o=n.indexOf(e.charAt(d++)),s=n.indexOf(e.charAt(d++)),t=l<<2|r>>4,a=(15&r)<<4|o>>2,i=(3&o)<<6|s,c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(a)),64!==s&&(c+=String.fromCharCode(i));return c}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a={decode:t,encode:e};return a}angular.module("statnlpApp").factory("Base64",e)}(),function(){"use strict";function e(e,t,n,a){function i(){e.VERSION=a;var t=e.$on("$stateChangeStart",function(t,a,i,l){e.toState=a,e.toStateParams=i,e.fromState=l,a.external&&(t.preventDefault(),n.open(a.url,"_self"))}),i=e.$on("$stateChangeSuccess",function(e,t,a,i,l){var r="StatNLP Annotation";t.data.pageTitle&&(r=t.data.pageTitle),n.document.title=r});e.$on("$destroy",function(){angular.isDefined(t)&&null!==t&&t(),angular.isDefined(i)&&null!==i&&i()})}return{initialize:i}}angular.module("statnlpApp").factory("stateHandler",e),e.$inject=["$rootScope","$state","$window","VERSION"]}(),function(){"use strict";function e(e,t){e.otherwise("/"),t.type("boolean",{name:"boolean",decode:function(e){return e===!0||"true"===e},encode:function(e){return e?1:0},equals:function(e,t){return this.is(e)&&e===t},is:function(e){return[!0,!1,0,1].indexOf(e)>=0},pattern:/bool|true|0|1/})}angular.module("statnlpApp").config(e),e.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"]}(),function(){"use strict";function e(e){e.html5Mode({enabled:!0,requireBase:!0})}angular.module("statnlpApp").config(e),e.$inject=["$locationProvider"]}(),function(){"use strict";function e(e,t){e.debugInfoEnabled(t)}angular.module("statnlpApp").config(e),e.$inject=["$compileProvider","DEBUG_INFO_ENABLED"]}(),function(){"use strict";function e(e){e.state("app",{abstract:!0,views:{navbar:{templateUrl:"app/layouts/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm"},pageload:{templateUrl:"app/layouts/pageload/pageload.html",controller:"PageloadController",controllerAs:"vm"},sidenav:{templateUrl:"app/layouts/sidenav/sidenav.html",controller:"SidenavController",controllerAs:"vm"},"sidenav-right":{templateUrl:"app/layouts/sidenav-right/sidenav-right.html",controller:"SidenavRightController",controllerAs:"vm"}}})}angular.module("statnlpApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("statnlpApp").constant("VERSION","0.0.1-SNAPSHOT").constant("DEBUG_INFO_ENABLED",!1).constant("BUILD_TIMESTAMP",1518397499186)}(),function(){angular.module("statnlpApp").run(["$templateCache",function(e){e.put("app/home/home.html",'<div class="container-fluid"><!-- Advanced Select --><div class="row clearfix"><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"><div class="card"><div class="header"><h2>REGION IMAGE</h2></div><div class="body"><div id="aniimated-thumbnials" class="list-unstyled row clearfix"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><a href="{{\'./data/images/\' + vm.region.region_id + \'.jpg\'}}" data-sub-html="Region {{vm.region.region_id}}" data-zoom-image="{{\'./data/images/\' + vm.region.region_id + \'.jpg\'}}"><img id="img-region" class="img-responsive" width="{{vm.region.width}}" height="{{vm.region.height}}" ng-src="{{\'./data/images/\' + vm.region.region_id + \'.jpg\'}}"></a></div></div></div></div></div><div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"><div class="card"><div class="header"><h2>ANNOTAIONS & REGIONS</h2></div><div class="body m-region"><div class="row clearfix"><div class="col-md-12"><p>Verb: <b class="col-blue">{{vm.region.predicate}}</b></p><p>Description: <b class="col-blue">{{vm.region.phrase}}</b></p><div ng-repeat="(key,value) in vm.region.annotation" class="col-md-4"><p><b>{{key}}</b></p><select class="form-control" data-live-search="true"><option disabled="disabled" selected="selected" value>NONE</option><option ng-repeat="object in vm.image.objects" ng-selected="{{object.object_id == value}}">{{object.names[0]}}</option></select></div></div></div></div></div></div></div><!-- #END# Advanced Select --><!-- <div class="row clearfix">\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n            <div class="card">\n                <div class="header">\n                    <h2>\n                        IMAGE GALLERY\n                    </h2>\n                </div>\n                <div class="body">\n                    <div id="aniimated-thumbnials" class="list-unstyled row clearfix">\n                        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">\n                            <a href="{{vm.image.image_rl}}" data-sub-html="Demo Description">\n                                <img class="img-responsive thumbnail" ng-src="{{vm.image.image_rl}}">\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> --><!-- <div class="row clearfix">\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n            <div class="card">\n                <div class="header">\n                    <h2>\n                        IMAGE UPLOAD - DRAG & DROP OR WITH CLICK & CHOOSE\n                    </h2>\n\n                </div>\n                <div class="body">\n                    <form action="/" id="frmFileUpload" class="dropzone" method="post" enctype="multipart/form-data">\n                        <div class="dz-message">\n                            <div class="drag-icon-cph">\n                                <i class="material-icons">touch_app</i>\n                            </div>\n                            <h3>Drop images here or click to upload.</h3>\n\n                        </div>\n                        <div class="fallback">\n                            <input name="file" type="file" multiple accept="image/*" />\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div> --></div>'),e.put("app/layouts/navbar/navbar.html",'<nav class="navbar m-navbar"><div class="container-fluid"><div class="navbar-header"><a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"></a> <a href="javascript:void(0);" class="bars"></a> <a class="navbar-brand" href="index.html">StatNLP - ANNOTATED IMAGES</a></div><div class="collapse navbar-collapse" id="navbar-collapse"><ul class="nav navbar-nav navbar-right"><li class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button"><i class="material-icons">collections</i> <span class="label-count">{{ vm.images.length}}</span></a><ul class="dropdown-menu"><li class="header">Images</li><li class="body"><ul class="menu"><li class="m-menu-item" ng-click="vm.imageClick($event)" ng-repeat="item in vm.images"><a href="javascript:void(0);"><div class="icon-circle"><img class="img-circle" ng-src="{{item.image_rl}}" width="40" height="40"></div><div class="menu-info p-l-5"><h4>Image {{item.image_id}}</h4><p><i class="material-icons">view_comfy</i> {{item.objects.length}} objects</p></div></a></li></ul></li></ul></li></ul></div></div></nav>'),e.put("app/layouts/pageload/pageload.html",'<div class="page-loader-wrapper"><div class="loader"><div class="preloader"><div class="spinner-layer pl-blue"><div class="circle-clipper left"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div><p>Please wait...</p></div></div>'),e.put("app/layouts/sidenav/sidenav.html",'<aside id="leftsidebar" class="sidebar m-sidenav"><div class="legal"><p>Definition of verb</p><p>Definition of roles</p><p>Example</p></div><!-- Menu --><div class="menu"><ul class="list"><li class="active"><!-- <a href="/">\n                    <i class="material-icons">home</i>\n                    <span>Home</span>\n                </a> --></li><li><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p-t-20"><button type="button" class="btn bg-blue btn-block btn-lg waves-effect">Save (Ctrl + S)</button></div></li><li><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p-t-20"><button type="button" class="btn bg-blue btn-block btn-lg waves-effect">Next role (Shift + &#x2192;)</button></div></li><li><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p-t-20"><button type="button" class="btn bg-blue btn-block btn-lg waves-effect">Previous role (Shift + &#x2190;)</button></div></li><li><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p-t-20"><button type="button" class="btn bg-blue btn-block btn-lg waves-effect">Ambiguous (Ctrl + B)</button></div></li></ul></div><!-- #Menu --></aside>'),e.put("app/layouts/sidenav-right/sidenav-right.html",'<aside class="rightsidebar m-sidenav"><!-- Menu --><div class="menu"><ul class="list"><li><!-- <a href="/">\n                    <i class="material-icons">home</i>\n                    <span>Home</span>\n                </a> --></li><li class="active" ng-repeat="item in vm.image.objects" ng-click="vm.clickItem($event)"><a href=""><i class="material-icons">fiber_manual_record</i> <span class="text-capitalize">{{$index + 1}}. {{item.names[0]}}</span></a></li></ul></div><!-- #Menu --><div class="legal"><div class="copyright"><a href="javascript:void(0);">SUTD STATNLP</a> &copy; 2018</div><div class="version"><b>Version: </b>1.0.0-beta</div></div></aside>')}])}();