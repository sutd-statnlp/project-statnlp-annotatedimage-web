!function(){"use strict";function e(e){e.initialize()}angular.module("statnlpApp",["ngResource","ngAria","ui.router","oc.lazyLoad"]).run(e),e.$inject=["stateHandler"]}(),function(){"use strict";function e(e,t){var a=t.getEndpoint();return e("",{},{getAll:{method:"GET",isArray:!0,url:a+"/data/regions.json"}})}angular.module("statnlpApp").factory("RegionService",e),e.$inject=["$resource","DataService"]}(),function(){"use strict";function e(e,t){var a=t.getEndpoint();return e("",{},{getAll:{method:"GET",isArray:!0,url:a+"/data/images.json"}})}angular.module("statnlpApp").factory("ImageService",e),e.$inject=["$resource","DataService"]}(),function(){"use strict";function e(e){function t(){return a}var a="",n={getEndpoint:t};return n}angular.module("statnlpApp").factory("DataService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t){var a=t.getEndpoint();return e("",{},{getAll:{method:"GET",isArray:!0,url:a+"/data/annotations.json"}})}angular.module("statnlpApp").factory("AnnotationService",e),e.$inject=["$resource","DataService"]}(),function(){"use strict";function e(e,t,a,n){function i(){function e(e){r.image=e[0]}n.getAll({},e,l)}function l(e){console.log(e)}var r=this;r.image={image_id:null,image_rl:null,objects:[]},i()}angular.module("statnlpApp").controller("SidenavRightController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService"]}(),function(){"use strict";function e(e,t,a,n){}angular.module("statnlpApp").controller("SidenavController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService"]}(),function(){"use strict";function e(e,t){}angular.module("statnlpApp").controller("PageloadController",e),e.$inject=["$scope","$state"]}(),function(){"use strict";function e(e,t,a,n){function i(){function e(e){o.images=e}n.getAll({},e,l)}function l(e){console.log(e)}function r(e){$(".m-menu-item").removeClass("m-item-active");var t=angular.element(e.currentTarget);t.addClass("m-item-active")}a.load("js/admin.js");var o=this;o.images=[],o.imageClick=r,i(),$(document).ready(function(){$(".m-scroll").click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500),!1})})}angular.module("statnlpApp").controller("NavbarController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService"]}(),function(){"use strict";function e(e){e.state("home",{parent:"app",url:"/",data:{authorities:[]},views:{"content@":{templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm"}}})}angular.module("statnlpApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,a,n,i,l){function r(){function e(e){f.images=e,f.image=e[0]}n.getAll({},e,m)}function o(){function e(e){f.regions=e[0].regions}i.getAll({},e,m)}function s(){function e(e){f.annotations=e[0].relationships,c(f.region)}l.getAll({},e,m)}function c(e){var t=p(e.region_id);null!==t&&d(e,t)}function d(e,t){e.predicate=t.predicate;for(var a in t)"predicate"!==a&&(e.annotation[a]=t[a]);$("#img-region").elevateZoom({zoomType:"lens",lensShape:"round",lensSize:180,scrollZoom:!0})}function u(e){for(var t=0;t<f.image.objects.length;t++){var a=f.image.objects[t];if(a.object_id===e)return a.names[0]}return null}function p(e){for(var t=0;t<f.annotations.length;t++){var a=f.annotations[t];if(a.region_id===e)return a.region_relations}return null}function g(e){f.choseLabel=e}function v(e){console.log(e),f.region.annotation[f.choseLabel]=e}function m(e){console.log(e)}a.load("plugins/dropzone/dropzone.js").then(function(){a.load("js/pages/forms/advanced-form-elements.js")}),a.load("js/pages/medias/image-gallery.js");var f=this;f.region={height:57,image_id:1,phrase:"man has raised his arm",region_id:1736,width:67,x:372,y:274,predicate:"",annotation:{}},f.annotations=[],f.image={image_id:null,image_rl:null,objects:[]},f.getObjectNameById=u,f.chosenLabel="",f.chooseLabel=g,f.chooseObject=v,r(),s(),o()}angular.module("statnlpApp").controller("HomeController",e),e.$inject=["$scope","$state","$ocLazyLoad","ImageService","RegionService","AnnotationService"]}(),function(){"use strict";function e(){function e(e,t){if(isNaN(t))return e;if(t<=0)return"";if(e){var a=e.split(/\s+/);a.length>t&&(e=a.slice(0,t).join(" ")+"...")}return e}return e}angular.module("statnlpApp").filter("words",e)}(),function(){"use strict";function e(){function e(e,t,a){if(isNaN(t))return e;if(t<=0)return"";if(e&&e.length>t){if(e=e.substring(0,t),a)for(;" "===e.charAt(e.length-1);)e=e.substr(0,e.length-1);else{var n=e.lastIndexOf(" ");n!==-1&&(e=e.substr(0,n))}return e+"..."}return e}return e}angular.module("statnlpApp").filter("characters",e)}(),function(){"use strict";function e(){function e(e,t,a,n){t.bind("click",function(){n.sort(a.jhSortBy)})}var t={restrict:"A",scope:!1,require:"^jhSort",link:e};return t}angular.module("statnlpApp").directive("jhSortBy",e)}(),function(){"use strict";function e(){var e={restrict:"A",scope:{predicate:"=jhSort",ascending:"=",callback:"&"},controller:t,controllerAs:"vm",bindToController:!0};return e}function t(e,t){function a(e){var t=e.find("span.glyphicon"),a="glyphicon-sort",n="glyphicon-sort-by-attributes",i="glyphicon-sort-by-attributes-alt",l=a+" "+i,o=n;r.ascending||(l=a+" "+n,o=i),r.resetClasses(),t.removeClass(l),t.addClass(o)}function n(){var e=t.find("span.glyphicon"),a="glyphicon-sort",n="glyphicon-sort-by-attributes",i="glyphicon-sort-by-attributes-alt";e.removeClass(n+" "+i),e.addClass(a)}function i(t){t!==r.predicate?r.ascending=!0:r.ascending=!r.ascending,r.predicate=t,e.$apply(),r.callback()}function l(e){r.resetClasses(),e&&"_score"!==e[0]&&r.applyClass(t.find("th[jh-sort-by='"+e[0]+"']"))}var r=this;r.applyClass=a,r.resetClasses=n,r.sort=i,r.triggerApply=l,e.$watchGroup(["vm.predicate","vm.ascending"],r.triggerApply),r.triggerApply()}angular.module("statnlpApp").directive("jhSort",e),t.$inject=["$scope","$element"]}(),function(){"use strict";function e(){function e(e){if(0===e.length)throw new Error("input must not be of zero length");var t=e.split(","),a={};return angular.forEach(t,function(e){var t=e.split(">;");if(2!==t.length)throw new Error('section could not be split on ">;"');var n=t[0].replace(/<(.*)/,"$1").trim(),i={};n.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,a,n){i[t]=n});var l=i.page;angular.isString(l)&&(l=parseInt(l));var r=t[1].replace(/rel="(.*)"/,"$1").trim();a[r]=l}),a}var t={parse:e};return t}angular.module("statnlpApp").factory("ParseLinks",e)}(),function(){"use strict";angular.module("statnlpApp").constant("errorConstants",function(){var e="http://www.jhipster.tech/problem";return{EMAIL_ALREADY_USED_TYPE:e+"/email-already-used",LOGIN_ALREADY_USED_TYPE:e+"/login-already-used",EMAIL_NOT_FOUND_TYPE:e+"/email-not-found"}}())}(),function(){"use strict";function e(e){function t(e){return e?new Date(e):null}function a(e){if(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}return null}function n(t){return t?e("date")(t,"yyyy-MM-dd"):null}function i(){return"yyyy-MM-dd"}var l={convertDateTimeFromServer:t,convertLocalDateFromServer:a,convertLocalDateToServer:n,dateformat:i};return l}angular.module("statnlpApp").factory("DateUtils",e),e.$inject=["$filter"]}(),function(){"use strict";function e(e){function t(e){return angular.isString(e)?e.length<30?e:e?e.substring(0,15)+"..."+e.slice(-10):"":""}function a(e){function t(e,t){return t.indexOf(e,t.length-e.length)!==-1}function a(e){return t("==",e)?2:t("=",e)?1:0}function n(e){return e.length/4*3-a(e)}function i(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" bytes"}return angular.isString(e)?i(n(e)):""}function n(t,a){e.open("data:"+t+";base64,"+a,"_blank","height=300,width=400")}function i(e,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){var a=e.target.result.substr(e.target.result.indexOf("base64,")+"base64,".length);t(a)}}var l={abbreviate:t,byteSize:a,openFile:n,toBase64:i};return l}angular.module("statnlpApp").factory("DataUtils",e),e.$inject=["$window"]}(),function(){"use strict";function e(){function e(e){return null!==e&&(e=e.toLowerCase(),e=e.substring(0,1).toUpperCase()+e.substring(1)),e}return e}angular.module("statnlpApp").filter("capitalize",e)}(),function(){"use strict";function e(){function e(e){for(var t,n,i,l,r,o,s,c="",d=0;d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),i=e.charCodeAt(d++),l=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|i>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),c=c+a.charAt(l)+a.charAt(r)+a.charAt(o)+a.charAt(s);return c}function t(e){var t,n,i,l,r,o,s,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)l=a.indexOf(e.charAt(d++)),r=a.indexOf(e.charAt(d++)),o=a.indexOf(e.charAt(d++)),s=a.indexOf(e.charAt(d++)),t=l<<2|r>>4,n=(15&r)<<4|o>>2,i=(3&o)<<6|s,c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(n)),64!==s&&(c+=String.fromCharCode(i));return c}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={decode:t,encode:e};return n}angular.module("statnlpApp").factory("Base64",e)}(),function(){"use strict";function e(e,t,a,n){function i(){e.VERSION=n;var t=e.$on("$stateChangeStart",function(t,n,i,l){e.toState=n,e.toStateParams=i,e.fromState=l,n.external&&(t.preventDefault(),a.open(n.url,"_self"))}),i=e.$on("$stateChangeSuccess",function(e,t,n,i,l){var r="StatNLP Annotation";t.data.pageTitle&&(r=t.data.pageTitle),a.document.title=r});e.$on("$destroy",function(){angular.isDefined(t)&&null!==t&&t(),angular.isDefined(i)&&null!==i&&i()})}return{initialize:i}}angular.module("statnlpApp").factory("stateHandler",e),e.$inject=["$rootScope","$state","$window","VERSION"]}(),function(){"use strict";function e(e,t){e.otherwise("/"),t.type("boolean",{name:"boolean",decode:function(e){return e===!0||"true"===e},encode:function(e){return e?1:0},equals:function(e,t){return this.is(e)&&e===t},is:function(e){return[!0,!1,0,1].indexOf(e)>=0},pattern:/bool|true|0|1/})}angular.module("statnlpApp").config(e),e.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"]}(),function(){"use strict";function e(e){e.html5Mode({enabled:!0,requireBase:!0})}angular.module("statnlpApp").config(e),e.$inject=["$locationProvider"]}(),function(){"use strict";function e(e,t){e.debugInfoEnabled(t)}angular.module("statnlpApp").config(e),e.$inject=["$compileProvider","DEBUG_INFO_ENABLED"]}(),function(){"use strict";function e(e){e.state("app",{abstract:!0,views:{navbar:{templateUrl:"app/layouts/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm"},pageload:{templateUrl:"app/layouts/pageload/pageload.html",controller:"PageloadController",controllerAs:"vm"},sidenav:{templateUrl:"app/layouts/sidenav/sidenav.html",controller:"SidenavController",controllerAs:"vm"},"sidenav-right":{templateUrl:"app/layouts/sidenav-right/sidenav-right.html",controller:"SidenavRightController",controllerAs:"vm"}}})}angular.module("statnlpApp").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("statnlpApp").constant("VERSION","0.0.1-SNAPSHOT").constant("DEBUG_INFO_ENABLED",!1).constant("BUILD_TIMESTAMP",1518420444233)}(),function(){angular.module("statnlpApp").run(["$templateCache",function(e){e.put("app/home/home.html",'<aside id="rightsidebar" class="right-sidebar"><ul class="nav nav-tabs tab-nav-right" role="tablist"><li role="presentation" class="active"><a href="#skins" data-toggle="tab">LABELS</a></li><li role="presentation"><a href="#settings" data-toggle="tab">OBJECTS</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane fade in active in active" id="skins"><ul class="demo-choose-skin m-labels"><li ng-repeat="(key,value) in vm.region.annotation" ng-click="vm.chooseLabel(key)" data-theme="blue"><div class="blue"></div><span>{{key}}</span></li></ul></div><div role="tabpanel" class="tab-pane fade" id="settings"><div class="demo-settings"><ul class="demo-choose-skin m-labels"><li ng-repeat="item in vm.image.objects" ng-click="vm.chooseObject(item.object_id)" data-theme="blue"><div class="blue"></div><span>{{item.names[0]}}</span></li></ul></div></div></div></aside><div class="container-fluid"><!-- Advanced Select --><div id="annotation" class="row clearfix"><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"><div class="card"><div class="header"><h2>REGION IMAGE</h2></div><div class="body"><!-- <canvas width="600" height="326" id="canvas">\n                    </canvas> --><div id="aniimated-thumbnials" class="list-unstyled row clearfix"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><a href="{{\'./data/images/\' + vm.region.region_id + \'.jpg\'}}" data-sub-html="{{vm.region.phrase}}" data-zoom-image="{{\'./data/images/\' + vm.region.region_id + \'.jpg\'}}"><img id="img-region" class="img-responsive pull-right" width="{{vm.region.width}}" height="{{vm.region.height}}" ng-src="{{\'./data/images/\' + vm.region.region_id + \'.jpg\'}}"></a></div></div></div></div></div><div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"><div class="card"><div class="header"><h2>ANNOTAIONS & REGIONS</h2></div><div class="body m-region"><div class="row clearfix"><div class="col-md-12"><p>Verb: <b class="col-blue">{{vm.region.predicate}}</b></p><p>Description: <b class="col-blue">{{vm.region.phrase}}</b></p><br><div ng-repeat="(key,value) in vm.region.annotation" class="col-md-4"><b>{{key}}</b> <span class="label label-primary">{{vm.getObjectNameById(value)}}</span></div></div></div></div></div></div></div><!-- #END# Advanced Select --><div id="gallery" class="row clearfix"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="card"><div class="header"><h2>REGION IMAGES</h2></div><div class="body"><div id="aniimated-thumbnials-gallery" class="list-unstyled row clearfix"><div ng-repeat="item in vm.regions" class="col-lg-3 col-md-4 col-sm-6 col-xs-12"><a href="{{\'./data/images/\' + item.region_id + \'.jpg\'}}" data-sub-html="{{item.phrase}}"><img class="thumbnail" width="{{vm.region.width}}" height="{{vm.region.height}}" ng-src="{{\'./data/images/\' + item.region_id + \'.jpg\'}}"></a></div></div></div></div></div></div><div id="upload" class="row clearfix"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="card"><div class="header"><h2>IMAGE UPLOAD - DRAG & DROP OR WITH CLICK & CHOOSE</h2></div><div class="body"><form action="/" id="frmFileUpload" class="dropzone" method="post" enctype="multipart/form-data"><div class="dz-message"><div class="drag-icon-cph"><i class="material-icons">touch_app</i></div><h3>Drop images here or click to upload.</h3></div><div class="fallback"><input name="file" type="file" multiple="multiple" accept="image/*"></div></form></div></div></div></div></div>'),e.put("app/layouts/navbar/navbar.html",'<nav class="navbar m-navbar"><div class="container-fluid"><div class="navbar-header"><a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"></a> <a href="javascript:void(0);" class="bars"></a> <a class="navbar-brand" href="index.html">StatNLP - ANNOTATED IMAGES</a></div><div class="collapse navbar-collapse" id="navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="#annotation" class="m-scroll" role="button"><i class="material-icons">panorama</i></a></li><li><a href="#gallery" class="m-scroll" role="button"><i class="material-icons">collections</i></a></li><li><a href="#upload" class="m-scroll" role="button"><i class="material-icons">file_upload</i></a></li><li class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button"><i class="material-icons">image</i> <span class="label-count">{{ vm.images.length}}</span></a><ul class="dropdown-menu"><li class="header">Images</li><li class="body"><ul class="menu"><li class="m-menu-item" ng-click="vm.imageClick($event)" ng-repeat="item in vm.images"><a href="javascript:void(0);"><div class="icon-circle"><img class="img-circle" ng-src="{{item.image_rl}}" width="40" height="40"></div><div class="menu-info p-l-5"><h4>Image {{item.image_id}}</h4><p><i class="material-icons">view_comfy</i> {{item.objects.length}} objects</p></div></a></li></ul></li></ul></li><li class="pull-right"><a href="javascript:void(0);" class="js-right-sidebar" data-close="true"><i class="material-icons">settings</i></a></li></ul></div></div></nav>'),e.put("app/layouts/pageload/pageload.html",'<div class="page-loader-wrapper"><div class="loader"><div class="preloader"><div class="spinner-layer pl-blue"><div class="circle-clipper left"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div><p>Please wait...</p></div></div>'),e.put("app/layouts/sidenav/sidenav.html",'<aside id="leftsidebar" class="sidebar m-sidenav"><div class="legal"><p>Definition of verb</p><p>Definition of roles</p><p>Example</p></div><!-- Menu --><div class="menu"><ul class="list"><li class="active"><!-- <a href="/">\n                    <i class="material-icons">home</i>\n                    <span>Home</span>\n                </a> --></li><li><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p-t-20"><button type="button" class="btn bg-blue btn-block btn-lg waves-effect">Save (Ctrl + S)</button></div></li><li><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 p-t-20"><button type="button" class="btn bg-blue btn-block btn-lg waves-effect">Ambiguous (Ctrl + B)</button></div></li></ul></div><!-- #Menu --></aside>'),e.put("app/layouts/sidenav-right/sidenav-right.html","")}])}();